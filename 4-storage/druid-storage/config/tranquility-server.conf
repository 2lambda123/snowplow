{
  "dataSources": {
    "snowplowEvents": {
      "spec": {
        "dataSchema": {
          "dataSource": "snowplowEvents",
          "parser" : {
            "type" : "string",
            "parseSpec" : {
              "format" : "json",
              "timestampSpec" : {
                "column" : "collector_tstamp",
                "format" : "auto"
              },
              "dimensionsSpec" : {
                "dimensions": [],
                "dimensionExclusions" : [
                    "tr_orderid",
                    "tr_affiliation",
                    "tr_total",
                    "tr_tax",
                    "tr_shipping",
                    "tr_city",
                    "tr_state",
                    "tr_country",
                    "ti_orderid",
                    "ti_sku",
                    "ti_name",
                    "ti_category",
                    "ti_price",
                    "ti_quantity",
                    "br_family",
                    "br_version",
                    "br_type",
                    "br_renderengine",
                    "br_lang",
                    "br_features_pdf",
                    "br_features_flash",
                    "br_features_java",
                    "br_features_director",
                    "br_features_quicktime",
                    "br_features_realplayer",
                    "br_features_windowsmedia",
                    "br_features_gears",
                    "br_features_silverlight",
                    "br_cookies",
                    "br_colordepth"
                ],
                "spatialDimensions" : []
              }
            }
          },
          "metricsSpec" : [{
            "type" : "count",
            "name" : "count"
          }],
          "granularitySpec" : {
            "segmentGranularity" : "DAY",
            "queryGranularity" : "NONE",
            "intervals" : [ "2016-02-03/2016-02-03" ]
          },
        },
        "tuningConfig": {
          "type": "realtime",
          "windowPeriod" : "PT10M",
          "intermediatePersistPeriod" : "PT10M",
          "maxRowsInMemory" : "100000",
          "workingPath": "/tmp",
          "partitionsSpec": {
            "type": "dimension",
            "partitionDimension": null,
            "targetPartitionSize": 5000000,
            "maxPartitionSize": 7500000,
            "assumeGrouped": false,
            "numShards": -1
          },
          "shardSpecs": {
            
          },
          "leaveIntermediate": false,
          "cleanupOnFailure": true,
          "overwriteFiles": false,
          "ignoreInvalidRows": false,
          "jobProperties": {
            
          },
          "combineText": false,
          "persistInHeap": false,
          "ingestOffheap": false,
          "bufferSize": 134217728,
          "aggregationBufferRatio": 0.5,
          "rowFlushBoundary": 300000
        }
      },
      "properties" : {
        "task.partitions" : "1",
        "task.replicants" : "1"
      }
    }
  },
  "properties": {
    "http.port": "8200",
    "zookeeper.connect": "localhost",
    "http.threads": "8"
  }
}
